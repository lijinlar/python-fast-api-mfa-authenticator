{% extends "base.html" %}

{% block title %}Disable MFA - PyOTP App{% endblock %}

{% block content %}
<div class="logo">üîê PyOTP</div>
<h1 style="margin-bottom: 30px; color: #333;">Disable Two-Factor Authentication</h1>

<div style="margin-bottom: 30px; padding: 20px; background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px;">
    <h3 style="color: #856404; margin-bottom: 15px;">‚ö†Ô∏è Security Warning</h3>
    <p style="color: #856404; line-height: 1.6;">
        Disabling two-factor authentication will remove an important security layer from your account. 
        Your account will only be protected by your password.
    </p>
</div>

<div style="margin-bottom: 30px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
    <h3 style="color: #667eea; margin-bottom: 15px;">üîê Verification Required</h3>
    <p style="color: #666; line-height: 1.6;">
        To disable MFA, please enter the current 6-digit code from your Google Authenticator app.
        This ensures that only you can disable the security feature.
    </p>
</div>

<form method="POST" action="/disable-mfa">
    <div class="form-group">
        <label for="code">Current Authentication Code</label>
        <input type="text" id="code" name="code" placeholder="Enter 6-digit code" 
               pattern="[0-9]{6}" maxlength="6" required 
               style="text-align: center; font-size: 18px; letter-spacing: 2px;">
    </div>
    
    <button type="submit" class="btn" style="background: #dc3545;">Disable Two-Factor Authentication</button>
</form>

<div class="links">
    <p><a href="/dashboard">‚Üê Back to Dashboard</a></p>
</div>

<script>
    // Auto-focus on the code input
    document.getElementById('code').focus();
    
    // Auto-submit when 6 digits are entered
    document.getElementById('code').addEventListener('input', function() {
        if (this.value.length === 6) {
            this.form.submit();
        }
    });
</script>
{% endblock %}
